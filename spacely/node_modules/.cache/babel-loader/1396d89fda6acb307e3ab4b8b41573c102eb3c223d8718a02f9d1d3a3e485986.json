{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nrg24\\\\Downloads\\\\Proyecto Spacely\\\\spacely\\\\src\\\\components\\\\StarInfo.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport StarService from \"../services/star.service\";\nimport \"../pages/home/home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StarList() {\n  _s();\n  const [stars, setStars] = useState([]);\n  const refForm = useRef();\n  const getAllStars = () => {\n    StarService.getAllStars().then(items => {\n      let allStars = [];\n      items.forEach(item => {\n        const key = item.key;\n        const data = item.val();\n        allStars.push({\n          key: key,\n          galaxy: data.galaxy,\n          discoveryDate: data.discoveryDate,\n          imageUrl: data.imageUrl,\n          name: data.name\n        });\n      });\n      setStars([...allStars]);\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n  const removeStar = key => {\n    StarService.removeStar(key).then(res => {\n      getAllStars();\n    });\n  };\n  const addStar = e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const name = formData.get(\"name\");\n    const discoveryDate = formData.get(\"discoveryDate\");\n    const galaxy = formData.get(\"galaxy\");\n    const imageFile = formData.get(\"imageUrl\");\n\n    // Subir la imagen al Firebase Storage\n    const storageRef = firebase.storage().ref();\n    const imageRef = storageRef.child(imageFile.name);\n    imageRef.put(imageFile).then(() => {\n      // Obtener la URL de descarga de la imagen\n      imageRef.getDownloadURL().then(imageUrl => {\n        // Guardar los datos en la base de datos\n        StarService.addStar(name, discoveryDate, imageUrl, galaxy).then(res => {\n          refForm.current.reset();\n          setStars(oldValues => [...oldValues, {\n            key: res.key,\n            name,\n            discoveryDate,\n            imageUrl,\n            galaxy\n          }]);\n        });\n      });\n    });\n  };\n  useEffect(() => {\n    getAllStars();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: addStar,\n        ref: refForm,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"rounded-input\",\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"rounded-input\",\n          type: \"text\",\n          name: \"discoveryDate\",\n          placeholder: \"Discovery date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"rounded-input\",\n          type: \"text\",\n          name: \"galaxy\",\n          placeholder: \"Galaxy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"rounded-input\",\n          type: \"file\",\n          name: \"imageUrl\",\n          placeholder: \"Image URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"rounded-input\",\n          type: \"submit\",\n          value: \"Add Star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"stars-container\",\n      children: stars.map(star => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"fotoEstrella\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            class: \"fotos\",\n            src: star.imageUrl,\n            alt: star.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: star.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Discovered on: \", star.discoveryDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Galaxy: \", star.galaxy]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://cdn-icons-png.flaticon.com/512/860/860829.png\",\n            className: \"delete-star\",\n            width: 20,\n            onClick: () => removeStar(star.key),\n            alt: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, star.key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(StarList, \"/fGkUlUATvvdy8Ncc0I1tgiATjk=\");\n_c = StarList;\nexport default StarList;\nvar _c;\n$RefreshReg$(_c, \"StarList\");","map":{"version":3,"names":["useState","useEffect","useRef","StarService","jsxDEV","_jsxDEV","StarList","_s","stars","setStars","refForm","getAllStars","then","items","allStars","forEach","item","key","data","val","push","galaxy","discoveryDate","imageUrl","name","catch","err","console","error","removeStar","res","addStar","e","preventDefault","formData","FormData","target","get","imageFile","storageRef","firebase","storage","ref","imageRef","child","put","getDownloadURL","current","reset","oldValues","class","children","onSubmit","className","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","value","map","star","src","alt","width","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nrg24/Downloads/Proyecto Spacely/spacely/src/components/StarInfo.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport StarService from \"../services/star.service\";\r\n\r\nimport \"../pages/home/home.css\";\r\n\r\nfunction StarList() {\r\n  const [stars, setStars] = useState([]);\r\n  const refForm = useRef();\r\n\r\n  const getAllStars = () => {\r\n    StarService.getAllStars()\r\n      .then((items) => {\r\n        let allStars = [];\r\n        items.forEach((item) => {\r\n          const key = item.key;\r\n          const data = item.val();\r\n          allStars.push({\r\n            key: key,\r\n            galaxy: data.galaxy,\r\n            discoveryDate: data.discoveryDate,\r\n            imageUrl: data.imageUrl,\r\n            name: data.name\r\n          });\r\n        });\r\n        setStars([...allStars]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const removeStar = (key) => {\r\n    StarService.removeStar(key).then((res) => {\r\n      getAllStars();\r\n    });\r\n  };\r\n\r\n  const addStar = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData(e.target);\r\n    const name = formData.get(\"name\");\r\n    const discoveryDate = formData.get(\"discoveryDate\");\r\n    const galaxy = formData.get(\"galaxy\");\r\n    const imageFile = formData.get(\"imageUrl\");\r\n\r\n    // Subir la imagen al Firebase Storage\r\n    const storageRef = firebase.storage().ref();\r\n    const imageRef = storageRef.child(imageFile.name);\r\n    imageRef.put(imageFile).then(() => {\r\n      // Obtener la URL de descarga de la imagen\r\n      imageRef.getDownloadURL().then((imageUrl) => {\r\n        // Guardar los datos en la base de datos\r\n        StarService.addStar(name, discoveryDate, imageUrl, galaxy).then((res) => {\r\n          refForm.current.reset();\r\n          setStars((oldValues) => [\r\n            ...oldValues,\r\n            { key: res.key, name, discoveryDate, imageUrl, galaxy }\r\n          ]);\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllStars();\r\n  }, []);\r\n\r\n  return (\r\n    <div class=\"box\">\r\n      <div>\r\n        <form onSubmit={addStar} ref={refForm}>\r\n          <input className=\"rounded-input\" type=\"text\" name=\"name\" placeholder=\"Name\" />\r\n          <input className=\"rounded-input\" type=\"text\" name=\"discoveryDate\" placeholder=\"Discovery date\" />\r\n          <input className=\"rounded-input\" type=\"text\" name=\"galaxy\" placeholder=\"Galaxy\" />\r\n          <input className=\"rounded-input\" type=\"file\" name=\"imageUrl\" placeholder=\"Image URL\" />\r\n          <input className=\"rounded-input\" type=\"submit\" value=\"Add Star\" />\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"stars-container\">\r\n        {stars.map((star) => (\r\n          <div key={star.key}>\r\n            <div class=\"fotoEstrella\">\r\n              <img class=\"fotos\" src={star.imageUrl} alt={star.name} />\r\n            </div>\r\n            <div>\r\n              <h2>{star.name}</h2>\r\n              <p>Discovered on: {star.discoveryDate}</p>\r\n              <p>Galaxy: {star.galaxy}</p>\r\n              <img\r\n                src=\"https://cdn-icons-png.flaticon.com/512/860/860829.png\"\r\n                className=\"delete-star\"\r\n                width={20}\r\n                onClick={() => removeStar(star.key)}\r\n                alt=\"Delete\"\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StarList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}